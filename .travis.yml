language: node_js
node_js:
  - "10.14.2"
cache: npm
jobs:
  include:
    - stage: tests
      name: "lint:all"
      script: npm run lint:all

    - stage: tests
      name: "test:contracts"
      script: npm run test:contracts

    - stage: tests
      name: "test:utils"
      script: npm run test:utils

    - stage: tests
      name: "Solidity Coverage"
      script:
        - npm install codecov
        - npm install solidity-coverage
        - npm run coverage
        - ./node_modules/.bin/codecov -f coverage/lcov.info
